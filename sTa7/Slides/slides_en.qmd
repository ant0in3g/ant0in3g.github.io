---
title: "Statistics and data analysis"
author: "Antoine Géré"
format:
  revealjs:
    menu:
      side: left
editor: visual
---

# Organization

<span style="display:block; margin-top:10px;"></span>

|            | S2  | S3  | S4  | S5  | 
|------------|:---:|:---:|:---:|:---:|
| Lectures   | 8 (12h)   | 8 (12h)   | 8 (12h)   | 8 (12h)   |
| Tutorials  | 8 (12h)   | 8 (12h)   | 8 (12h)   | 8 (12h)  |
| tot.       | 16 (24h)  | 16 (24h)  | 16 (24h)  | 16 (24h)  |

<span style="display:block; margin-top:80px;"></span>
 
[https://ant0in3g.github.io/sTa7.html](https://ant0in3g.github.io/sTa7.html) $\to$ look at your stickers !

# Evaluations

For each semester :

- One mid-semester exam (1h30)
- One final exam (1h30)

For semester 2, 4 and 6 **only**, a group statistics project

# Group projets

- **Semester 2 :**
<div style="text-align:center;">
[**P**remière **A**nalyse en **S**tatistique **D**escriptive (PASD)](https://ant0in3g.github.io/sTa7/PASD/PASD.html)
</div>

- **Semester 4 :** 
<div style="text-align:center;">
[**P**remière **E**xpérience en **A**nalyse de **D**onnées (PEAD)](https://ant0in3g.github.io/sTa7/PEAD/PEAD.html)
</div>

- **Semester 6 :**
<div style="text-align:center;">
[**P**rojet d’**I**nitiation à la **D**émarche **Ex**périmentale (PIDEx)](https://ant0in3g.github.io/sTa7/PIDEx/PIDEx.html)
</div>

# Resources

- [Slides du cours](https://ant0in3g.github.io/sTa7/Slides/slides.html)

- [Cours complet de Statistiques et analyse de données](https://ant0in3g.github.io/sTa7/LectureStat/index.html) (en construction)

- [Travaux dirigés](https://ant0in3g.github.io/sTa7/poly_td.pdf)

- [Sujets d’examens corrigées des années passées](https://ant0in3g.github.io/sTa7/examens.html)

- [An Introduction to Statistical Learning from the Stanford University](https://www.statlearning.com/) with a [YouTube playlist](https://www.youtube.com/playlist?list=PLoROMvodv4rOzrYsAxzQyHb8n_RWNuS1e) of the lectures

# Part 1 - Introduction to statistics and/with R

- **Data** : interesting $\to$ they help us **understand the world** !

- **Statistics** : fundamental in **science** $\to$ needed in the design, analysis, and interpretation of experiments !

## Chapter 1 - A brief intro to R

![](img/R_RStudio_LogoS.png)


- Free open source language
- Built to do statistics
- Updated by the mathematician from all over the world
- Amazing graphics !
- Widely used in biology, agronomy, economy, ... 

**Learn it, love it, use it !**

## 

### Installation of R and RStudio

TO DO for next class !
  
### Using RStudio
  
![](img/rstudio-1st-time.png)

## 

### Good habits

- create a **project** on RStudio
- create ALWAYS **4 folders** : 
  - `data_raw`
  - `data`
  - `img`
  - `doc`
- Use the `help` function ! ... and also `chat GPT` ...  
**WARNING ! It often writes code wayyyy too complicated !** 

##

### Import DATA into RStudio

Data used for this class : `data1` and `data2`

- Import data from a **csv** file

```{r}
#| echo: true
data.CSV <- read.csv2("data_raw/data1.csv")
```

- Import data from an **excel** file 


```{r}
#| echo: true
library(readxl)
data.EXCEL <- read_excel("data_raw/data2.xlsx")
```

- Possible to import data from many more file formats ...

<span style="display:block; margin-top:40px;"></span>

$\to$ NOW "doing statistics" can get started !

## Chapter 2 - General framework

<span style="display:block; margin-top:100px;"></span>
  
::: columns

::: column
<span style="display:block; margin-top:80px;"></span>
  ![](img/global_view_stat.png){width=90%}
:::
  
::: column
What we are going to learn :
  
- Descriptive Statistics
- Probability theory
- Sample theory
- Inferential Statistics
:::
  
:::

## 

### Statistical Variables

A **variable** $X$  $\to$ any characteristic observed in a study

<span style="display:block; margin-top:40px;"></span>

The data values that we observe for a variable are called **observations**

- **Unit** : A member of a population
- **Population** : The collection of all individuals and units that we want to know more about
- **Sample** : The subset of the population we observe
- **Modality** : The distinct values or categories that the variable can take

##

### For instance

<span style="display:block; margin-top:40px;"></span>

**Variable** : Grade in Statistics of ISTOM's Students

<span style="display:block; margin-top:40px;"></span>

**Observations** : $18,14,16,11,12,15, \ldots$

- **Unit** : the single student
- **Population** : all students of ISTOM
- **Sample** : a class 
- **Modality** : 0 : 20

##

### Types of variables

<span style="display:block; margin-top:60px;"></span>

- Qualitative (Categorical)
  - Nominal
  - Ordinal
- Quantitative (Numerical)
  - Discrete
  - Continuous
  
##

### Qualitative / Categorical Variable

<span style="display:block; margin-top:80px;"></span>

A variable is called **qualitative** if **each observation belongs** to one of a **set of distinct categories**

<span style="display:block; margin-top:60px;"></span>

- Nominal : Categories are disconnected. 

  Examples : Hair Color, Animal Species, ...
  
<span style="display:block; margin-top:30px;"></span>
  
- Ordinal: Categories are ranked

  Examples : Level of Education, ...

<span style="display:block; margin-top:60px;"></span>

##

### Quantitative / Numerical Variable

A variable is called **quantitative** if observations on it take numerical values that represent different magnitudes of the variable

<span style="display:block; margin-top:20px;"></span>

- **Discrete** : the variable assume values in a countable set ("how many")

Examples : Number of episode in a series, Grades, ...

- **Continuous** : the variable assume values in a continuous set ("how much")

Examples : Time, most physical measurements, ...

##

<span style="display:block; margin-top:40px;"></span>

Illustration with a cool dataset in R $\to$ `iris`

It contains 150 observations for 5 variables

<span style="display:block; margin-top:40px;"></span>

```{r}
#| echo: true
data(iris)
head(iris)
```

<span style="display:block; margin-top:40px;"></span>

We have : 

- 4 quantitative variables
- 1 qualitative variable

## Chapter 3 - Descriptive statistics

Before making statistical tests with your data it is essential to
examine all your variables !

<span style="display:block; margin-top:40px;"></span>

Why ? To "listen" to the data :  

- to catch mistakes
- to see patterns in the data
- to find violations of statistical assumptions
- to generate hypotheses
- ... and because if you don’t, you will have trouble later !

##

### Numerical Summaries of Data

- **Central Tendency measures**. They are computed to give a "center" around which the measurements in the data are distributed.
- **Variation or Variability measures**. They describe "data spread" or how far away the measurements are from the center.
- **Relative Standing measures**. They describe the relative position of specific measurements in the data.

##

### Mean(s)

<span style="display:block; margin-top:40px;"></span>

**The Mean** 

<span style="display:block; margin-top:30px;"></span>

To calculate the average $\overline{X}$ of a set of observations, add their value and divide by the number of observations

<span style="display:block; margin-top:70px;"></span>

$$
\overline{x}=\frac{X_1+X_2+X_3+\ldots+X_n}{n}=\frac{1}{n} \sum_{i=1}^n x_i
$$

##

### Other mean

<span style="display:block; margin-top:60px;"></span>

**Weighted mean** :
$\quad\quad\overline{X}=\dfrac{\sum_{i=1}^n w_i X_i}{\sum_{i=1}^n w_i}$

<span style="display:block; margin-top:70px;"></span>

**Geometric mean** :
$\quad\quad\overline{X}=\left(\prod_{i=1}^n X_i\right)^{\frac{1}{n}}$

<span style="display:block; margin-top:90px;"></span>

**Harmonic mean** :
$\quad\quad\overline{X}=\frac{n}{\sum_{i=1}^n \frac{1}{X_i}}$

##

### Median

- **Median** : the exact middle value
- Calculation :
  - If there are an **odd number of observations**, find the middle value
  - If there are an **even number of observations**, find the middle two values and average them

Example : $17, 19, 21, 22, 23, 23, 23, 38$. The Median is $$\dfrac{22+23}{2}=22.5$$

##

### Which Location Measure Is Best ?

<span style="display:block; margin-top:90px;"></span>

- Mean is best for symmetric distributions without outliers

<span style="display:block; margin-top:90px;"></span>

- Median is useful for skewed distributions or data with outliers

##

### Variance

Average of squared deviations of values from the mean

$$
\sigma^2=\dfrac{\sum_i^n\left(x_i-\bar{x}\right)^2}{n-1}
$$

- Absolute values do not have nice mathematical properties
- Squares eliminate the negatives

**Standard deviations are simply the square root of the
variance**

##

### Interesting Result

Regardless of how the data are distributed, $75\%$ of values fall within $\sigma$ from the mean !

![](img/Explained_Sigma_Mean.jpg)

##

### Univariate statistics

Going back with the dataset `iris`

```{r}
#| echo: true
data(iris)
```

To get a global view

```{r}
#| echo: true
summary(iris)
```

##

### Graphic Representations

```{r}
#| echo: true
boxplot(iris$Sepal.Length, col = c("yellow"),main = "Boxplot", ylab = "Quantiles")
```

##

```{r}
#| echo: true
boxplot(iris[,c('Sepal.Length','Sepal.Width','Petal.Length','Petal.Width')],
  col = c("yellow"),
  main = paste("Boxplot"),
  ylab = "Quantiles")
```
##

```{r}
#| echo: true
hist(iris$Sepal.Length,
  col = c("orange"),
  main = paste("Histogram for the (quantitative) variable Sepal.Length"),
  ylab = "Frenquency",
  xlab = "Sepal Length")
```

##

Now let's look the qualitative variable `Species`

```{r}
#| echo: true
table_Species <- table(iris$Species)
table_Species
```

```{r}
#| echo: true
prop.table(table_Species)
```

```{r}
#| echo: true
barplot(table_Species, col="orange")
```

### Bivariate statistics

coming.

# Part 2 - Probability

## Chapter 1 - Randomnes

### Random experiment

An experiment is called **random** if 

- it can be **repeated**
- it has **several** possible outcomes
- whose outcome is **unpredictable**

Examples:

- rolling a six-sided die
- observing the disease status of a plant

##

### Elementary Event

An **elementary event** is a result of a random experiment.

Examples:

- Getting a 3 when rolling a 6-sided die
- Observing a plant being sick

### Sample Space

The **Sample space** (denoted by $\Omega$) is the set of **all possible outcomes** (elementary events) of a random experiment.

Example :

- Rolling a 6-sided die, $\Omega = \left\{1, 2, 3, 4, 5, 6 \right\}$

##

### Property of a Sample Space

A Sample Space $\Omega$ can be : 

- a **finite** set
- a **countably** infinite set
- an **uncountably** infinite set

Note :

- $\Omega$ is **discrete** : finite or countably infinite
- $\Omega$ is **continuous** : uncountably infinite

##

### Event (Non-Elementary)

A (Non-Elementary) Event is subset of $\Omega$.

Example : 

$\to$ Event A : “Getting a result strictly greater than 4 when rolling a 6-sided die”

$\to$ A=$\{5,6\}$

#### Particular events

- The event $\Omega$ is certain
- The empty set $\emptyset$ is an impossible event







# Part 3 - Estimation and Confidence Intervals


