<style>
.pdf-download-in-toc {
  text-align: center;
  margin-top: 1rem;
}

.pdf-download-in-toc a {
  display: inline-flex;
  align-items: center;
  gap: 0.4em;
  padding: 0.4em 0.8em;
  background-color: #f5f5f5;
  border-radius: 8px;
  text-decoration: none;
  font-size: 0.9em;
  color: #333;
  transition: background-color 0.2s ease;
}

.pdf-download-in-toc a:hover {
  background-color: #e0e0e0;
}

.pdf-download-in-toc svg {
  width: 18px;
  height: 18px;
  fill: currentColor;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
  // essaie plusieurs sélecteurs possibles pour trouver le TOC
  const toc =
    document.querySelector(".quarto-toc-container") ||
    document.querySelector(".toc") ||
    document.querySelector("nav#TOC") ||
    document.querySelector(".sidebar nav");

  if (toc) {
    // Ajouter le logo avant le TOC
    const logo = document.createElement("img");
    logo.src = "img/Logo_simple_ISTOM_Couleurs_HD.png";
    logo.style.cssText = "float:left;height:60px; margin-bottom: 1rem;";
    toc.parentNode.insertBefore(logo, toc);
    
    // S'assurer que le TOC est sous le logo
    toc.style.clear = "both";

    // Ajouter le bouton PDF
    const div = document.createElement("div");
    div.className = "pdf-download-in-toc";
    div.innerHTML = `
      <a href="doc/Presentation_Renaud_ISTOM_VF2.pdf" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M12 16l4-5h-3V4h-2v7H8l4 5zm8 2H4v2h16v-2z"/>
        </svg>
        Présentation Renaud</a>
    `;
    toc.appendChild(div);
  } else {
    console.warn("TOC non trouvé — vérifie le thème ou la structure HTML");
  }
});
</script>
